<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/bottom_nav"
    android:layout_width="match_parent"
    android:layout_height="@dimen/bottom_nav_height"
    android:layout_alignParentBottom="true"
    android:background="@drawable/nav_border"
    android:elevation="8dp"
    android:orientation="horizontal"
    android:paddingBottom="10dp"
    android:paddingTop="8dp"
    android:clipToPadding="false"
    android:clipChildren="false"
    tools:ignore="MissingConstraints">

    <!-- 首页 -->
    <LinearLayout
        android:id="@+id/nav_home"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:clickable="true"
        android:focusable="true"
        android:gravity="center"
        android:orientation="vertical"
        android:padding="@dimen/nav_item_padding">

        <ImageView
            android:id="@+id/iv_home"
            android:layout_width="@dimen/nav_icon_size"
            android:layout_height="@dimen/nav_icon_size"
            android:src="@drawable/ic_home"
            android:alpha="0.6"/>

        <TextView
            android:id="@+id/tv_home"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:text="首页"
            android:textColor="@color/nav_inactive"
            android:textSize="@dimen/nav_text_size"/>
    </LinearLayout>

    <!-- 扫一扫 -->
    <LinearLayout
        android:id="@+id/nav_scan"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:clickable="true"
        android:focusable="true"
        android:gravity="center"
        android:orientation="vertical"
        android:padding="@dimen/nav_item_padding">

        <ImageView
            android:id="@+id/iv_scan"
            android:layout_width="@dimen/nav_icon_size"
            android:layout_height="@dimen/nav_icon_size"
            android:src="@drawable/ic_scan"
            android:alpha="0.6"/>

        <TextView
            android:id="@+id/tv_scan"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:text="扫一扫"
            android:textColor="@color/nav_inactive"
            android:textSize="@dimen/nav_text_size"/>
    </LinearLayout>

    <!-- 智能助手（浮动按钮） -->
    <LinearLayout
        android:id="@+id/nav_assistant"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:clickable="true"
        android:focusable="true"
        android:gravity="top|center"
        android:orientation="vertical"
        android:padding="@dimen/nav_item_padding"

        android:clipToPadding="false"
        android:clipChildren="false">

        <!-- 浮动按钮容器 -->
        <RelativeLayout
            android:layout_width="@dimen/assistant_size"
            android:layout_height="@dimen/assistant_size"
            android:layout_marginTop="-24dp"
            android:clipToPadding="false"
            android:clipChildren="false">

            <!-- 背景渐变圆形 -->
            <View
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:background="@drawable/circle_purple"
                android:elevation="3dp"
                android:rotationY="10"/>

            <!-- 语音波动效果（修正为FrameLayout容器） -->
            <FrameLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_centerInParent="true"
                android:clipToPadding="false"
                android:clipChildren="false">

                <!-- 第一层波动 -->
                <View
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="@drawable/circle_wave"
                    android:elevation="4dp"/>

                <!-- 第二层波动（延迟动画） -->
                <View
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="@drawable/circle_wave"
                    android:animation="@anim/voice_wave_scale"
                    android:startOffset="500"
                    android:elevation="5dp"/>

                <!-- 第三层波动（更长延迟） -->
                <View
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="@drawable/circle_wave"
                    android:animation="@anim/voice_wave_scale"
                    android:startOffset="1000"
                    android:elevation="6dp"/>
            </FrameLayout>

            <!-- 助手图标 -->
            <ImageView
                android:layout_width="36dp"
                android:layout_height="36dp"
                android:src="@drawable/ic_assistant"
                android:layout_centerInParent="true"
                android:elevation="6dp"
                app:tint="@color/white"/>
        </RelativeLayout>

    </LinearLayout>

    <!-- 账单 -->
    <LinearLayout
        android:id="@+id/nav_bills"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:clickable="true"
        android:focusable="true"
        android:gravity="center"
        android:orientation="vertical"
        android:padding="@dimen/nav_item_padding">

        <ImageView
            android:id="@+id/iv_bills"
            android:layout_width="@dimen/nav_icon_size"
            android:layout_height="@dimen/nav_icon_size"
            android:src="@drawable/ic_bills"
            android:alpha="0.6"/>

        <TextView
            android:id="@+id/tv_bills"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:text="账单"
            android:textColor="@color/nav_inactive"
            android:textSize="@dimen/nav_text_size"/>
    </LinearLayout>

    <!-- 我的 -->
    <LinearLayout
        android:id="@+id/nav_profile"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:clickable="true"
        android:focusable="true"
        android:gravity="center"
        android:orientation="vertical"
        android:padding="@dimen/nav_item_padding">

        <ImageView
            android:id="@+id/iv_profile"
            android:layout_width="@dimen/nav_icon_size"
            android:layout_height="@dimen/nav_icon_size"
            android:src="@drawable/ic_profile"
            android:alpha="0.6"/>

        <TextView
            android:id="@+id/tv_profile"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:text="我的"
            android:textColor="@color/nav_inactive"
            android:textSize="@dimen/nav_text_size"/>
    </LinearLayout>
</LinearLayout>